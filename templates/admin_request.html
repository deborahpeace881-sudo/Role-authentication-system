<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Pending Admin Requests</title>
</head>
<body>

<h2>Pending Admin Requests</h2>

<!-- Flash messages (always show if they exist) -->
{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    {% for category, message in messages %}
      <p class="flash-{{ category }}">{{ message }}</p>
    {% endfor %}
  {% endif %}
{% endwith %}

<!-- Admin requests -->
{% if requests %}
  <ul>
    {% for r in requests %}
      <li>
        {{ r.email }} — status: {{ r.status }}

        <a href="{{ url_for('admin_request_profile', uid=r.uid) }}">View Profile</a>


        <form style="display:inline" method="post"
              action="{{ url_for('approve_admin', uid=r.uid) }}">
          <button type="submit">Approve</button>
        </form>

        <form style="display:inline" method="post"
              action="{{ url_for('reject_admin', uid=r.uid) }}">
          <button type="submit">Reject</button>
        </form>
      </li>
    {% endfor %}
  </ul>
{% else %}
  <p>No pending requests.</p>
{% endif %}

<br>
<a href="{{ url_for('admin_dashboard') }}">⬅ Back to Admin Dashboard</a>


</body>
</html>

